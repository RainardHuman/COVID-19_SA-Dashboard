<div class="container">
    <mat-card class="overview">
        <mat-card-header>
            <mat-card-title>Overview</mat-card-title>
        </mat-card-header>
        <mat-card-content>
            <div class="overview-container">
                <div class="global">
                    <h3>Global</h3>
                    <mat-progress-bar mode="indeterminate" color="accent" *ngIf="!dataStore.isOverviewLoaded"></mat-progress-bar>
                    <div *ngIf="dataStore.isOverviewLoaded">
                        <p>Cases: {{ dataStore.globalStats.cases}}</p>
                        <p>Deaths: {{ dataStore.globalStats.deaths }}</p>
                        <p>Recovered: {{ dataStore.globalStats.recovered }}</p>
                        <p>Active Cases: {{ dataStore.globalStats.active}}</p>
                        <p>Affected Countries: {{ dataStore.globalStats.affectedCountries}}</p>
                        <button mat-raised-button disabled color="primary">See Timeline Graph</button>
                    </div>
                </div>
                <div class="south-africa">
                    <h3><span class="flag-icon flag-icon-za"></span>South Africa</h3>
                    <mat-progress-bar mode="indeterminate" color="accent" *ngIf="!dataStore.isTableLoaded"></mat-progress-bar>
                    <div *ngIf="dataStore.isTableLoaded">
                        <p>Cases: {{ dataStore.southAfrica.cases }}</p>
                        <p>Deaths: {{ dataStore.southAfrica.deaths }}</p>
                        <p>Recovered: {{ dataStore.southAfrica.recovered }}</p>
                        <p>Active Cases: {{ dataStore.southAfrica.active }}</p>
                        <p>Cases Today: {{ dataStore.southAfrica.todayCases }}</p>
                        <button mat-raised-button disabled color="primary">See Timeline Graph</button>
                    </div>
                </div>
            </div>
        </mat-card-content>
    </mat-card>

    <mat-card class="sa">
        <mat-card-header>
        <mat-card-title>SA Known Province Details</mat-card-title>
    </mat-card-header>
        <mat-card-content>
            <mat-progress-bar mode="indeterminate" color="accent" *ngIf="!dataStore.isCaseDetailsLoaded"></mat-progress-bar>
            <table mat-table [dataSource]=" dataStore.southAfricaCaseDetails.provinces" class="mat-elevation-z8" *ngIf="dataStore.isCaseDetailsLoaded">
                <ng-container matColumnDef="Number">
                    <th mat-header-cell *matHeaderCellDef> No. </th>
                    <td mat-cell *matCellDef="let element; let i = index;"> {{ i + 1 }} </td>
                </ng-container>

                <ng-container matColumnDef="Province">
                    <th mat-header-cell *matHeaderCellDef style="width: 110px"> Province </th>
                    <td mat-cell *matCellDef="let element">{{element.province}}</td>
                </ng-container>

                <ng-container matColumnDef="TotalCases">
                    <th mat-header-cell *matHeaderCellDef> Total Cases </th>
                    <td mat-cell *matCellDef="let element"> {{element.count}} </td>
                </ng-container>

                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
            </table>
        </mat-card-content>
    </mat-card>

    <mat-card class="table">
        <mat-card-header>
            <mat-card-title>Top 10 Affected Countries <button mat-raised-button color="primary" class="add-margin" routerLink="table-all-locations">See All</button></mat-card-title>
        </mat-card-header>
        <mat-card-content>
            <mat-progress-bar mode="indeterminate" color="accent" *ngIf="!dataStore.isTableLoaded"></mat-progress-bar>
            <app-stats-table [tableDataSource]="dataStore.topTenLocations" *ngIf="dataStore.isTableLoaded"></app-stats-table>
        </mat-card-content>
    </mat-card>
</div>
